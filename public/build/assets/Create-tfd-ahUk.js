import{J as U,K as w,a as c,e as s,u as e,h as F,w as v,b as l,G as E,j as I,o as u,F as g,I as $,g as S}from"./app-BYcpfCCx.js";import{s as L,_ as P}from"./AppLayout.vue_vue_type_script_setup_true_lang-B7Fb-TMU.js";import{s as k,a as i,b as M,c as B}from"./index-DkUltBf0.js";import{u as D,_ as n,s as G,a as f,b as N,c as T}from"./useCountries-IFrhMCMh.js";import{_ as r}from"./InputError-CH1juVzZ.js";const j={class:"max-w-2xl mx-auto"},q={class:"bg-white rounded-lg shadow-sm border border-gray-200 p-8"},z={class:"grid grid-cols-1 gap-6"},A={class:"flex flex-wrap gap-4"},J={class:"flex items-center gap-2"},O={class:"flex items-center gap-2"},R={class:"flex items-center gap-2"},K={class:"flex items-center gap-2"},H={class:"flex items-center gap-2"},Q={class:"flex flex-wrap gap-4"},W={class:"flex items-center gap-2"},X={class:"flex items-center gap-2"},Y={class:"flex items-center gap-2"},Z={class:"flex items-center gap-2"},h={class:"flex items-center justify-end mt-8"},ie={__name:"Create",setup(ee){U();const{countries:m,isLoading:p}=D(),V=[{title:"Exportaciones",href:"/exportaciones"},{title:"Crear",href:"/exportaciones/create"}],a=w({fecha:"",origen:null,destino:null,tipo_envio:null,tipo_carga:null,estado:null,descripcion_carga:null,documentos:[]}),x=d=>{a.documentos=d.files},_=d=>{const o=a.documentos.findIndex(t=>t.name===d.file.name&&t.size===d.file.size);o!==-1&&a.documentos.splice(o,1)},b=()=>{a.documentos=[]},C=()=>{a.post("/exportaciones",{forceFormData:!0})};return(d,o)=>(u(),c(g,null,[s(e(F),{title:"Crear Exportación"}),s(P,{breadcrumbs:V},{default:v(()=>[s(e(L)),l("div",j,[o[24]||(o[24]=l("div",{class:"mb-8"},[l("h2",{class:"text-3xl font-bold text-gray-900"}," Nueva Exportación "),l("p",{class:"mt-1 text-sm text-gray-600"}," Completa los datos para registrar una nueva exportación y adjunta los documentos necesarios. ")],-1)),l("div",q,[l("form",{onSubmit:E(C,["prevent"])},[l("div",z,[l("div",null,[s(n,{for:"fecha",value:"Fecha de Exportación"}),s(e(G),{id:"fecha",modelValue:e(a).fecha,"onUpdate:modelValue":o[0]||(o[0]=t=>e(a).fecha=t),dateFormat:"dd/mm/yy",class:"",invalid:!!e(a).errors.fecha},null,8,["modelValue","invalid"]),s(r,{class:"mt-2",message:e(a).errors.fecha},null,8,["message"])]),l("div",null,[s(n,{for:"clave",value:"Clave de Exportación"}),s(e(k),{id:"clave",type:"text",class:"w-full",placeholder:"Se generará automáticamente",disabled:""})]),l("div",null,[s(n,{for:"tipo_envio",value:"Tipo de Envío"}),l("div",A,[l("div",J,[s(e(i),{modelValue:e(a).tipo_envio,"onUpdate:modelValue":o[1]||(o[1]=t=>e(a).tipo_envio=t),inputId:"aéreo",name:"tipo_envio",value:"aéreo"},null,8,["modelValue"]),o[14]||(o[14]=l("label",{for:"aéreo"},"Aéreo",-1))]),l("div",O,[s(e(i),{modelValue:e(a).tipo_envio,"onUpdate:modelValue":o[2]||(o[2]=t=>e(a).tipo_envio=t),inputId:"marítimo",name:"tipo_envio",value:"marítimo"},null,8,["modelValue"]),o[15]||(o[15]=l("label",{for:"marítimo"},"Marítimo",-1))]),l("div",R,[s(e(i),{modelValue:e(a).tipo_envio,"onUpdate:modelValue":o[3]||(o[3]=t=>e(a).tipo_envio=t),inputId:"tren",name:"tipo_envio",value:"tren"},null,8,["modelValue"]),o[16]||(o[16]=l("label",{for:"tren"},"Tren",-1))]),l("div",K,[s(e(i),{modelValue:e(a).tipo_envio,"onUpdate:modelValue":o[4]||(o[4]=t=>e(a).tipo_envio=t),inputId:"carretera",name:"tipo_envio",value:"carretera"},null,8,["modelValue"]),o[17]||(o[17]=l("label",{for:"carretera"},"Carretera",-1))]),l("div",H,[s(e(i),{modelValue:e(a).tipo_envio,"onUpdate:modelValue":o[5]||(o[5]=t=>e(a).tipo_envio=t),inputId:"multimodal",name:"tipo_envio",value:"multimodal"},null,8,["modelValue"]),o[18]||(o[18]=l("label",{for:"multimodal"},"Multimodal",-1))])])]),l("div",null,[s(n,{for:"tipo_carga",value:"Tipo de Carga"}),l("div",Q,[l("div",W,[s(e(i),{modelValue:e(a).tipo_carga,"onUpdate:modelValue":o[6]||(o[6]=t=>e(a).tipo_carga=t),inputId:"contenedor",name:"tipo_carga",value:"contenedor"},null,8,["modelValue"]),o[19]||(o[19]=l("label",{for:"contenedor"},"Contenedor",-1))]),l("div",X,[s(e(i),{modelValue:e(a).tipo_carga,"onUpdate:modelValue":o[7]||(o[7]=t=>e(a).tipo_carga=t),inputId:"granel",name:"tipo_carga",value:"granel"},null,8,["modelValue"]),o[20]||(o[20]=l("label",{for:"ingredient2"},"Granel",-1))]),l("div",Y,[s(e(i),{modelValue:e(a).tipo_carga,"onUpdate:modelValue":o[8]||(o[8]=t=>e(a).tipo_carga=t),inputId:"paquetería",name:"tipo_carga",value:"paquetería"},null,8,["modelValue"]),o[21]||(o[21]=l("label",{for:"ingredient3"},"Paquetería",-1))]),l("div",Z,[s(e(i),{modelValue:e(a).tipo_carga,"onUpdate:modelValue":o[9]||(o[9]=t=>e(a).tipo_carga=t),inputId:"otro",name:"tipo_carga",value:"otro"},null,8,["modelValue"]),o[22]||(o[22]=l("label",{for:"otro"},"Otro",-1))])])]),l("div",null,[s(n,{for:"origen",value:"País de Origen"}),s(e(f),{id:"origen",modelValue:e(a).origen,"onUpdate:modelValue":o[10]||(o[10]=t=>e(a).origen=t),options:e(m),optionLabel:"label",optionValue:"value",placeholder:"Selecciona un país",class:"w-full",loading:e(p),invalid:!!e(a).errors.origen,filter:""},null,8,["modelValue","options","loading","invalid"]),s(r,{class:"mt-2",message:e(a).errors.origen},null,8,["message"])]),l("div",null,[s(n,{for:"destino",value:"País de Destino"}),s(e(f),{id:"destino",modelValue:e(a).destino,"onUpdate:modelValue":o[11]||(o[11]=t=>e(a).destino=t),options:e(m),optionLabel:"label",optionValue:"value",placeholder:"Selecciona un país",class:"w-full",loading:e(p),invalid:!!e(a).errors.destino,filter:""},null,8,["modelValue","options","loading","invalid"]),s(r,{class:"mt-2",message:e(a).errors.destino},null,8,["message"])]),l("div",null,[s(n,{for:"descripcion_carga",value:"Descripción"}),s(e(N),{id:"descripcion_carga",modelValue:e(a).descripcion_carga,"onUpdate:modelValue":o[12]||(o[12]=t=>e(a).descripcion_carga=t),class:"w-full",rows:"4",placeholder:"Agrega una descripción de la carga (opcional)",invalid:!!e(a).errors.descripcion_carga},null,8,["modelValue","invalid"]),s(r,{class:"mt-2",message:e(a).errors.descripcion_carga},null,8,["message"])]),l("div",null,[s(n,{for:"estado",value:"Estatus de la Carga"}),s(e(M),{id:"estado",modelValue:e(a).estado,"onUpdate:modelValue":o[13]||(o[13]=t=>e(a).estado=t),placeholder:"Seleccionar estatus",options:[{label:"Pendiente",value:"pendiente"},{label:"En proceso",value:"en_proceso"},{label:"Completada",value:"completada"},{label:"Cancelada",value:"cancelada"}],optionLabel:"label",optionValue:"value",defaultValue:"pendiente",class:"w-full",invalid:!!e(a).errors.estado},null,8,["modelValue","invalid"]),s(r,{class:"mt-2",message:e(a).errors.estado},null,8,["message"])]),l("div",null,[s(n,{value:"Documentos Adjuntos",class:"mb-2"}),s(e(T),{name:"documentos[]",multiple:!0,accept:"application/pdf,image/*",maxFileSize:2e6,customUpload:!0,onSelect:x,onRemove:_,onClear:b,fileLimit:5,invalidFileSizeMessage:"El tamaño máximo permitido para cada archivo es de 2MB.",invalidFileTypeMessage:"Solo se permiten archivos PDF, JPG y PNG."},{empty:v(()=>[...o[23]||(o[23]=[l("p",null,"Arrastra y suelta archivos aquí para subirlos.",-1)])]),_:1}),s(r,{class:"mt-2",message:e(a).errors.documentos},null,8,["message"]),s(r,{class:"mt-2",message:e(a).errors["documentos.0"]},null,8,["message"]),e(a).errors.documentos&&e(a).errors.documentos.length>0?(u(!0),c(g,{key:0},$(e(a).errors.documentos,(t,y)=>(u(),S(r,{key:y,class:"mt-2",message:t},null,8,["message"]))),128)):I("",!0)])]),l("div",h,[s(e(B),{type:"submit",label:"Guardar Exportación",loading:e(a).processing,icon:"pi pi-check",severity:"success"},null,8,["loading"])])],32)])])]),_:1})],64))}};export{ie as default};
