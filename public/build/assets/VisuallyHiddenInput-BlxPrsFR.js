import{u as g}from"./useForwardExpose-DthzmpCy.js";import{r as q,c as d,d as f,g as o,o as l,w as E,C as w,u as B,y as V,m as p,a as m,j as $,F as c,I as k}from"./app-BYcpfCCx.js";import{P as A}from"./index-DrtJtwNe.js";function H(){const r=q(),e=d(()=>["#text","#comment"].includes(r.value?.$el.nodeName)?r.value?.$el.nextElementSibling:g(r));return{primitiveElement:r,currentElement:e}}var S=f({__name:"VisuallyHidden",props:{feature:{type:String,required:!1,default:"focusable"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(r){return(e,i)=>(l(),o(B(A),{as:e.as,"as-child":e.asChild,"aria-hidden":e.feature==="focusable"?"true":void 0,"data-hidden":e.feature==="fully-hidden"?"":void 0,tabindex:e.feature==="fully-hidden"?"-1":void 0,style:{position:"absolute",border:0,width:"1px",height:"1px",padding:0,margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",whiteSpace:"nowrap",wordWrap:"normal",top:"-1px",left:"-1px"}},{default:E(()=>[w(e.$slots,"default")]),_:3},8,["as","as-child","aria-hidden","data-hidden","tabindex"]))}}),I=S,P=f({inheritAttrs:!1,__name:"VisuallyHiddenInputBubble",props:{name:{type:String,required:!0},value:{type:null,required:!0},checked:{type:Boolean,required:!1,default:void 0},required:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},feature:{type:String,required:!1,default:"fully-hidden"}},setup(r){const e=r,{primitiveElement:i,currentElement:s}=H(),t=d(()=>e.checked??e.value);return V(t,(a,u)=>{if(!s.value)return;const n=s.value,h=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(h,"value").set;if(v&&a!==u){const _=new Event("input",{bubbles:!0}),b=new Event("change",{bubbles:!0});v.call(n,a),n.dispatchEvent(_),n.dispatchEvent(b)}}),(a,u)=>(l(),o(I,p({ref_key:"primitiveElement",ref:i},{...e,...a.$attrs},{as:"input"}),null,16))}}),y=P,j=f({inheritAttrs:!1,__name:"VisuallyHiddenInput",props:{name:{type:String,required:!0},value:{type:null,required:!0},checked:{type:Boolean,required:!1,default:void 0},required:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},feature:{type:String,required:!1,default:"fully-hidden"}},setup(r){const e=r,i=d(()=>typeof e.value=="object"&&Array.isArray(e.value)&&e.value.length===0&&e.required),s=d(()=>typeof e.value=="string"||typeof e.value=="number"||typeof e.value=="boolean"||e.value===null||e.value===void 0?[{name:e.name,value:e.value}]:typeof e.value=="object"&&Array.isArray(e.value)?e.value.flatMap((t,a)=>typeof t=="object"?Object.entries(t).map(([u,n])=>({name:`${e.name}[${a}][${u}]`,value:n})):{name:`${e.name}[${a}]`,value:t}):e.value!==null&&typeof e.value=="object"&&!Array.isArray(e.value)?Object.entries(e.value).map(([t,a])=>({name:`${e.name}[${t}]`,value:a})):[]);return(t,a)=>(l(),m(c,null,[$(" We render single input if it's required "),i.value?(l(),o(y,p({key:t.name},{...e,...t.$attrs},{name:t.name,value:t.value}),null,16,["name","value"])):(l(!0),m(c,{key:1},k(s.value,u=>(l(),o(y,p({key:u.name},{ref_for:!0},{...e,...t.$attrs},{name:u.name,value:u.value}),null,16,["name","value"]))),128))],2112))}}),M=j;export{M as V,H as u};
