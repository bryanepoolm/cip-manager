import{u as J,i as R,e as W,f as C,w as q,g as D,h as I,j as K}from"./index-BCY4Fppt.js";import{c as E,b7 as S,a$ as h,b3 as P,r as T,y as N,D as B,A as U,u as z,b8 as G}from"./app-BYcpfCCx.js";const V=R?window:void 0,$=R?window.navigator:void 0;function L(e){var t;const i=h(e);return(t=i?.$el)!=null?t:i}function M(...e){const t=[],i=()=>{t.forEach(n=>n()),t.length=0},f=(n,l,s,a)=>(n.addEventListener(l,s,a),()=>n.removeEventListener(l,s,a)),r=E(()=>{const n=C(h(e[0])).filter(l=>l!=null);return n.every(l=>typeof l!="string")?n:void 0}),d=q(()=>{var n,l;return[(l=(n=r.value)==null?void 0:n.map(s=>L(s)))!=null?l:[V].filter(s=>s!=null),C(h(r.value?e[1]:e[0])),C(z(r.value?e[2]:e[1])),h(r.value?e[3]:e[2])]},([n,l,s,a])=>{if(i(),!n?.length||!l?.length||!s?.length)return;const v=K(a)?{...a}:a;t.push(...n.flatMap(y=>l.flatMap(p=>s.map(b=>f(y,p,b,v)))))},{flush:"post"}),u=()=>{d(),i()};return D(i),u}function H(){const e=S(!1),t=P();return t&&U(()=>{e.value=!0},t),e}function _(e){const t=H();return E(()=>(t.value,!!e()))}function Q(e){return typeof e=="function"?e:typeof e=="string"?t=>t.key===e:Array.isArray(e)?t=>e.includes(t.key):()=>!0}function F(...e){let t,i,f={};e.length===3?(t=e[0],i=e[1],f=e[2]):e.length===2?typeof e[1]=="object"?(t=!0,i=e[0],f=e[1]):(t=e[0],i=e[1]):(t=!0,i=e[0]);const{target:r=V,eventName:d="keydown",passive:u=!1,dedupe:n=!1}=f,l=Q(t);return M(r,d,a=>{a.repeat&&h(n)||l(a)&&i(a)},u)}function A(e,t={}){const{controls:i=!1,navigator:f=$}=t,r=_(()=>f&&"permissions"in f),d=S(),u=typeof e=="string"?{name:e}:e,n=S(),l=()=>{var a,v;n.value=(v=(a=d.value)==null?void 0:a.state)!=null?v:"prompt"};M(d,"change",l,{passive:!0});const s=W(async()=>{if(r.value){if(!d.value)try{d.value=await f.permissions.query(u)}catch{d.value=void 0}finally{l()}if(i)return G(d.value)}});return s(),i?{state:n,isSupported:r,query:s}:n}function k(e={}){const{navigator:t=$,read:i=!1,source:f,copiedDuring:r=1500,legacy:d=!1}=e,u=_(()=>t&&"clipboard"in t),n=A("clipboard-read"),l=A("clipboard-write"),s=E(()=>u.value||d),a=S(""),v=S(!1),y=J(()=>v.value=!1,r,{immediate:!1});async function p(){let c=!(u.value&&x(n.value));if(!c)try{a.value=await t.clipboard.readText()}catch{c=!0}c&&(a.value=w())}s.value&&i&&M(["copy","cut"],p,{passive:!0});async function b(c=h(f)){if(s.value&&c!=null){let o=!(u.value&&x(l.value));if(!o)try{await t.clipboard.writeText(c)}catch{o=!0}o&&g(c),a.value=c,v.value=!0,y.start()}}function g(c){const o=document.createElement("textarea");o.value=c??"",o.style.position="absolute",o.style.opacity="0",document.body.appendChild(o),o.select(),document.execCommand("copy"),o.remove()}function w(){var c,o,m;return(m=(o=(c=document?.getSelection)==null?void 0:c.call(document))==null?void 0:o.toString())!=null?m:""}function x(c){return c==="granted"||c==="prompt"}return{isSupported:s,text:a,copied:v,copy:b}}function X(e){return JSON.parse(JSON.stringify(e))}function ee(e,t,i,f={}){var r,d,u;const{clone:n=!1,passive:l=!1,eventName:s,deep:a=!1,defaultValue:v,shouldEmit:y}=f,p=P(),b=i||p?.emit||((r=p?.$emit)==null?void 0:r.bind(p))||((u=(d=p?.proxy)==null?void 0:d.$emit)==null?void 0:u.bind(p?.proxy));let g=s;t||(t="modelValue"),g=g||`update:${t.toString()}`;const w=o=>n?typeof n=="function"?n(o):X(o):o,x=()=>I(e[t])?w(e[t]):v,c=o=>{y?y(o)&&b(g,o):b(g,o)};if(l){const o=x(),m=T(o);let O=!1;return N(()=>e[t],j=>{O||(O=!0,m.value=w(j),B(()=>O=!1))}),N(m,j=>{!O&&(j!==e[t]||a)&&c(j)},{deep:a}),m}else return E({get(){return x()},set(o){c(o)}})}function te(){const e=P(),t=T(),i=E(()=>["#text","#comment"].includes(t.value?.$el.nodeName)?t.value?.$el.nextElementSibling:L(t)),f=Object.assign({},e.exposed),r={};for(const u in e.props)Object.defineProperty(r,u,{enumerable:!0,configurable:!0,get:()=>e.props[u]});if(Object.keys(f).length>0)for(const u in f)Object.defineProperty(r,u,{enumerable:!0,configurable:!0,get:()=>f[u]});Object.defineProperty(r,"$el",{enumerable:!0,configurable:!0,get:()=>e.vnode.el}),e.exposed=r;function d(u){t.value=u,u&&(Object.defineProperty(r,"$el",{enumerable:!0,configurable:!0,get:()=>u instanceof Element?u:u.$el}),e.exposed=r)}return{forwardRef:d,currentRef:t,currentElement:i}}export{te as a,ee as b,k as c,M as d,H as e,V as f,F as o,L as u};
